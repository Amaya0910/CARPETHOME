<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane style="-fx-background-color: #E4DFD7;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="grupo.proyecto_aula_carpethome.controllers.LoginController">

    <VBox alignment="CENTER" spacing="30" style="-fx-background-color: white;                  -fx-background-radius: 20;                  -fx-effect: dropshadow(gaussian, rgba(24, 23, 22, 0.15), 30, 0, 0, 10);                  -fx-min-width: 450px;                  -fx-max-width: 500px;                  -fx-pref-width: 450px;                  -fx-min-height: 550px;">

        <!-- Logo Container -->
        <VBox alignment="CENTER" spacing="15" style="-fx-padding: 20 0 0 0;">
            <ImageView fitHeight="80" fitWidth="200" preserveRatio="true">
                <Image url="@../../images/logo.png" />
            </ImageView>
        </VBox>

        <!-- Título -->
        <Label style="-fx-font-size: 28px;                       -fx-font-weight: 600;                       -fx-text-fill: #181716;                       -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;                       -fx-letter-spacing: 0.5px;" text="Iniciar Sesión" />

        <!-- Formulario -->
        <VBox spacing="20" style="-fx-padding: 0 50 10 50;">

            <!-- Campo Usuario/Email -->
            <VBox spacing="8">
                <TextField fx:id="usernameField" promptText="Usuario / Email" style="-fx-background-color: transparent;                                  -fx-background-radius: 12;                                  -fx-border-color: #A59B8F;                                  -fx-border-width: 1.5;                                  -fx-border-radius: 12;                                  -fx-font-size: 15px;                                  -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;                                  -fx-text-fill: #181716;                                  -fx-prompt-text-fill: #61564A;                                  -fx-padding: 16 20 16 20;                                  -fx-min-height: 55px;                                  -fx-pref-width: 350px;">
                    <effect>
                        <javafx.scene.effect.DropShadow color="rgba(0,0,0,0)" offsetY="0" radius="0" />
                    </effect>
                </TextField>
            </VBox>

            <!-- Campo Contraseña -->
            <VBox spacing="8">
                <HBox alignment="CENTER_LEFT" spacing="0">
                    <PasswordField fx:id="passwordField" promptText="Contraseña" style="-fx-background-color: transparent;                                          -fx-border-color: #A59B8F;                                          -fx-border-width: 1.5 0 1.5 1.5;                                          -fx-border-radius: 12 0 0 12;                                          -fx-background-radius: 12 0 0 12;                                          -fx-font-size: 15px;                                          -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;                                          -fx-text-fill: #181716;                                          -fx-prompt-text-fill: #61564A;                                          -fx-padding: 16 20 16 20;                                          -fx-min-height: 55px;" HBox.hgrow="ALWAYS">
                        <effect>
                            <javafx.scene.effect.DropShadow color="rgba(0,0,0,0)" offsetY="0" radius="0" />
                        </effect>
                    </PasswordField>

                    <Button fx:id="togglePasswordBtn" style="-fx-background-color: transparent;                                   -fx-border-color: #A59B8F;                                   -fx-border-width: 1.5 1.5 1.5 0;                                   -fx-border-radius: 0 12 12 0;                                   -fx-background-radius: 0 12 12 0;                                   -fx-cursor: hand;                                   -fx-padding: 16 15 16 10;                                   -fx-min-height: 55px;">
                        <graphic>
                            <ImageView fx:id="eyeIcon" fitHeight="20" fitWidth="20" preserveRatio="true" />
                        </graphic>
                    </Button>
                </HBox>
            </VBox>

            <!-- Mensaje de Error -->
            <Label fx:id="errorLabel"
                   managed="false"
                   visible="false"
                   wrapText="true"
                   alignment="CENTER"
                   style="-fx-text-fill: #D32F2F;
              -fx-font-size: 13px;
              -fx-font-weight: 500;
              -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
              -fx-padding: 10 15;
              -fx-background-color: rgba(211, 47, 47, 0.1);
              -fx-background-radius: 8;
              -fx-text-alignment: center;" />

            <!-- Botón Acceder Mejorado -->
            <VBox spacing="0">
                <Button fx:id="clickAcceder" maxWidth="Infinity" onAction="#clickAcceder" onMouseEntered="#handleMouseEnter" onMouseExited="#handleMouseExit" style="-fx-background-color: linear-gradient(to bottom, #181716, #2a2827);                                -fx-text-fill: white;                                -fx-font-size: 16px;                                -fx-font-weight: 600;                                -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;                                -fx-background-radius: 12;                                -fx-cursor: hand;                                -fx-padding: 16 0;                                -fx-min-height: 55px;                                -fx-letter-spacing: 1.5px;                                -fx-effect: dropshadow(gaussian, rgba(24, 23, 22, 0.4), 15, 0, 0, 5);" text="ACCEDER">
                </Button>
            </VBox>

        </VBox>

        <padding>
            <Insets bottom="40" left="50" right="50" top="40" />
        </padding>

    </VBox>

    <!-- Estilos globales para efectos hover -->
    <stylesheets>
        <javafx.scene.text.Font fx:id="poppinsFont" name="Poppins" size="14" />
    </stylesheets>

</StackPane>
