<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<StackPane style="-fx-background-color: #E4DFD7;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="grupo.proyecto_aula_carpethome.controllers.LoginController">

    <!-- Decoración de fondo: Hilo decorativo -->
    <SVGPath fx:id="threadDecoration1" content="M 50 50 Q 100 100 150 50 T 250 50" fill="transparent" opacity="0.3" stroke="#A59B8F" strokeWidth="2" translateX="-200" translateY="-250" />

    <SVGPath fx:id="threadDecoration2" content="M 50 50 Q 100 100 150 50 T 250 50" fill="transparent" opacity="0.2" rotate="180" stroke="#61564A" strokeWidth="2" translateX="250" translateY="280" />

    <!-- Contenedor Principal -->
    <VBox fx:id="mainContainer" alignment="CENTER" spacing="25" style="-fx-background-color: white;                  -fx-background-radius: 20;                  -fx-effect: dropshadow(gaussian, rgba(24, 23, 22, 0.15), 30, 0, 0, 10);                  -fx-min-width: 500px;                  -fx-max-width: 550px;                  -fx-pref-width: 500px;                  -fx-min-height: 600px;">

        <!-- Logo y Badge de Costura -->
        <VBox alignment="CENTER" spacing="12" style="-fx-padding: 20 0 0 0;">
            <StackPane>
                <ImageView fitHeight="80" fitWidth="200" preserveRatio="true">
                    <Image url="@../../images/logo.png" />
                </ImageView>
            </StackPane>
        </VBox>

        <!-- Título con icono -->
        <HBox alignment="CENTER" spacing="12">
            <SVGPath fx:id="lockIcon" content="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z" fill="#181716" scaleX="1.2" scaleY="1.2" />
            <Label style="-fx-font-size: 28px;                           -fx-font-weight: 700;                           -fx-text-fill: #181716;                           -fx-font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;                           -fx-letter-spacing: 0.5px;" text="Iniciar Sesión" />
        </HBox>

        <!-- Formulario -->
        <VBox spacing="18" style="-fx-padding: 0 50 10 50;">

            <!-- Campo Usuario/Email con icono -->
            <VBox spacing="8">
                <Label style="-fx-font-size: 11px;                               -fx-font-weight: 600;                               -fx-text-fill: #61564A;                               -fx-font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;                               -fx-letter-spacing: 1px;                               -fx-padding: 0 0 0 5;" text="USUARIO" />
                <HBox alignment="CENTER_LEFT" spacing="0" style="-fx-background-color: transparent;                              -fx-border-color: #A59B8F;                              -fx-border-width: 1.5;                              -fx-border-radius: 12;                              -fx-background-radius: 12;                              -fx-min-height: 55px;">
                    <StackPane style="-fx-padding: 0 15 0 20; -fx-min-width: 50;">
                        <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#61564A" scaleX="0.9" scaleY="0.9" />
                    </StackPane>
                    <TextField fx:id="usernameField" promptText="usuario@email.com" style="-fx-background-color: transparent;                                       -fx-border-width: 0;                                       -fx-font-size: 15px;                                       -fx-font-family: 'Inter', 'Segoe UI', Arial, sans-serif;                                       -fx-text-fill: #181716;                                       -fx-prompt-text-fill: #A59B8F;                                       -fx-padding: 16 20 16 10;                                       -fx-background-insets: 0;                                       -fx-background-radius: 0 12 12 0;" HBox.hgrow="ALWAYS" />
                </HBox>
            </VBox>

            <!-- Campo Contraseña con icono -->
            <VBox spacing="8">
                <Label style="-fx-font-size: 11px;                               -fx-font-weight: 600;                               -fx-text-fill: #61564A;                               -fx-font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;                               -fx-letter-spacing: 1px;                               -fx-padding: 0 0 0 5;" text="CONTRASEÑA" />
                <HBox alignment="CENTER_LEFT" spacing="0" style="-fx-background-color: transparent;                              -fx-border-color: #A59B8F;                              -fx-border-width: 1.5;                              -fx-border-radius: 12;                              -fx-background-radius: 12;                              -fx-min-height: 55px;">
                    <StackPane style="-fx-padding: 0 15 0 20; -fx-min-width: 50;">
                        <SVGPath content="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z" fill="#61564A" scaleX="0.9" scaleY="0.9" />
                    </StackPane>
                    <PasswordField fx:id="passwordField" promptText="••••••••" style="-fx-background-color: transparent;                                           -fx-border-width: 0;                                           -fx-font-size: 15px;                                           -fx-font-family: 'Inter', 'Segoe UI', Arial, sans-serif;                                           -fx-text-fill: #181716;                                           -fx-prompt-text-fill: #A59B8F;                                           -fx-padding: 16 20 16 10;                                           -fx-background-insets: 0;                                           -fx-background-radius: 0;" HBox.hgrow="ALWAYS" />
                    <Button fx:id="togglePasswordBtn" style="-fx-background-color: transparent;                                    -fx-border-width: 0;                                    -fx-background-radius: 0 12 12 0;                                    -fx-cursor: hand;                                    -fx-padding: 16 15 16 10;                                    -fx-min-height: 55px;                                    -fx-min-width: 50;">
                        <graphic>
                            <SVGPath fx:id="eyeIcon" content="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="#61564A" scaleX="0.75" scaleY="0.75" />
                        </graphic>
                    </Button>
                </HBox>
            </VBox>

            <!-- Mensaje de Error -->
            <HBox fx:id="errorContainer" alignment="CENTER_LEFT" managed="false" spacing="10" style="-fx-padding: 12 15;                          -fx-background-color: rgba(211, 47, 47, 0.1);                          -fx-background-radius: 10;                          -fx-border-color: rgba(211, 47, 47, 0.3);                          -fx-border-width: 1;                          -fx-border-radius: 10;" visible="false">
                <SVGPath content="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="#D32F2F" scaleX="0.8" scaleY="0.8" />
                <Label fx:id="errorLabel" style="-fx-text-fill: #D32F2F;                               -fx-font-size: 13px;                               -fx-font-weight: 500;                               -fx-font-family: 'Inter', 'Segoe UI', Arial, sans-serif;                               -fx-wrap-text: true;" wrapText="true" />
            </HBox>

            <!-- Botón Acceder con icono de flecha -->
            <VBox spacing="0" style="-fx-padding: 10 0 0 0;">
                <Button fx:id="loginButton" maxWidth="Infinity" onAction="#clickAcceder" style="-fx-background-color: linear-gradient(to bottom, #181716, #2a2827);                                -fx-background-radius: 12;                                -fx-cursor: hand;                                -fx-padding: 16 0;                                -fx-min-height: 55px;                                -fx-effect: dropshadow(gaussian, rgba(24, 23, 22, 0.4), 15, 0, 0, 5);">
                    <graphic>
                        <HBox alignment="CENTER" spacing="12">
                            <Label style="-fx-text-fill: white;                                           -fx-font-size: 16px;                                           -fx-font-weight: 600;                                           -fx-letter-spacing: 1.5px;                                           -fx-font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;" text="ACCEDER" />
                            <SVGPath content="M9 9l6-6m0 0l-6-6m6 6H3" fill="transparent" scaleX="0.9" scaleY="0.9" stroke="white" strokeWidth="2" />
                        </HBox>
                    </graphic>
                </Button>
            </VBox>

        </VBox>

        <!-- Footer decorativo -->
        <HBox alignment="CENTER" spacing="6" style="-fx-padding: 10 0 0 0; -fx-opacity: 0.6;">
            <SVGPath content="M12 2l2.5 7.5H22l-6 4.5 2.5 7.5L12 17l-6.5 4.5L8 14 2 9.5h7.5z" fill="#61564A" scaleX="0.5" scaleY="0.5" />
            <SVGPath content="M12 2l2.5 7.5H22l-6 4.5 2.5 7.5L12 17l-6.5 4.5L8 14 2 9.5h7.5z" fill="#61564A" scaleX="0.5" scaleY="0.5" />
        </HBox>

        <padding>
            <Insets bottom="40" left="50" right="50" top="30" />
        </padding>

    </VBox>


</StackPane>
