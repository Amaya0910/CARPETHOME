<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="grupo.proyecto_aula_carpethome.controllers.GestionProyectosController"
      style="-fx-background-color: #E4DFD7;"
      spacing="0">

    <!-- ENCABEZADO -->
    <HBox alignment="CENTER_LEFT" style="-fx-background-color: #E4DFD7; -fx-padding: 30 40 20 40;">
        <Label text="GestiÃ³n de Proyectos"
               style="-fx-font-size: 32px;
                      -fx-font-weight: 700;
                      -fx-text-fill: #181716;
                      -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;"/>

        <Region HBox.hgrow="ALWAYS"/>

        <!-- BOTÃ“N AGREGAR PROYECTO -->
        <Button fx:id="btnAgregarProyecto"
                text="+ Agregar Proyecto"
                onAction="#handleAgregarProyecto"
                style="-fx-background-color: #61564A;
                       -fx-text-fill: white;
                       -fx-font-size: 14px;
                       -fx-font-weight: 600;
                       -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
                       -fx-background-radius: 8;
                       -fx-cursor: hand;
                       -fx-padding: 12 24;
                       -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.15), 8, 0, 0, 2);"
                onMouseEntered="#handleButtonHover"
                onMouseExited="#handleButtonExit"/>
    </HBox>

    <!-- BARRA DE BÃšSQUEDA Y FILTROS -->
    <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 0 40 25 40;">

        <!-- CAMPO DE BÃšSQUEDA -->
        <HBox alignment="CENTER_LEFT" spacing="10"
              style="-fx-background-color: white;
                     -fx-background-radius: 10;
                     -fx-padding: 12 18;
                     -fx-min-width: 400;
                     -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 6, 0, 0, 2);">
            <Label text="ðŸ”" style="-fx-font-size: 16px;"/>
            <TextField fx:id="searchField"
                       promptText="Buscar por nombre o ID..."
                       style="-fx-background-color: transparent;
                             -fx-border-width: 0;
                             -fx-font-size: 14px;
                             -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
                             -fx-text-fill: #181716;
                             -fx-prompt-text-fill: #A59B8F;"
                       HBox.hgrow="ALWAYS"/>
        </HBox>

        <Region HBox.hgrow="ALWAYS"/>

        <!-- FILTRO POR ESTADO -->
        <HBox alignment="CENTER_LEFT" spacing="12">
            <Label text="Filtrar por Estado:"
                   style="-fx-font-size: 14px;
                          -fx-font-weight: 500;
                          -fx-text-fill: #61564A;
                          -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;"/>

            <ComboBox fx:id="estadoFilter"
                      promptText="Todos"
                      style="-fx-background-color: white;
                            -fx-background-radius: 8;
                            -fx-font-size: 14px;
                            -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
                            -fx-min-width: 150;
                            -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 6, 0, 0, 2);"/>
        </HBox>
    </HBox>

    <!-- CONTENEDOR DE TARJETAS CON SCROLL -->
    <ScrollPane fx:id="scrollPane"
                fitToWidth="true"
                style="-fx-background-color: transparent;
                       -fx-background: transparent;
                       -fx-padding: 0 40 20 40;"
                VBox.vgrow="ALWAYS">

        <VBox fx:id="tarjetasContainer"
              spacing="20"
              style="-fx-background-color: transparent;">

            <!-- AquÃ­ se aÃ±adirÃ¡n dinÃ¡micamente las tarjetas -->

        </VBox>
    </ScrollPane>

    <!-- CONTROLES DE PAGINACIÃ“N -->
    <HBox alignment="CENTER" spacing="15" style="-fx-padding: 0 40 30 40;">

        <!-- BotÃ³n Anterior -->
        <Button fx:id="btnAnterior"
                text="â† Anterior"
                onAction="#handleAnterior"
                style="-fx-background-color: white;
                       -fx-text-fill: #61564A;
                       -fx-font-size: 13px;
                       -fx-font-weight: 600;
                       -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
                       -fx-background-radius: 8;
                       -fx-cursor: hand;
                       -fx-padding: 10 20;
                       -fx-border-color: #61564A;
                       -fx-border-width: 1.5;
                       -fx-border-radius: 8;
                       -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 6, 0, 0, 2);"/>

        <!-- Indicador de pÃ¡gina -->
        <Label fx:id="lblPaginacion"
               text="PÃ¡gina 1 de 1"
               style="-fx-font-size: 14px;
                      -fx-font-weight: 500;
                      -fx-text-fill: #61564A;
                      -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
                      -fx-padding: 0 20;"/>

        <!-- BotÃ³n Siguiente -->
        <Button fx:id="btnSiguiente"
                text="Siguiente â†’"
                onAction="#handleSiguiente"
                style="-fx-background-color: #61564A;
                       -fx-text-fill: white;
                       -fx-font-size: 13px;
                       -fx-font-weight: 600;
                       -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
                       -fx-background-radius: 8;
                       -fx-cursor: hand;
                       -fx-padding: 10 20;
                       -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 6, 0, 0, 2);"/>
    </HBox>

    <!-- MENSAJE CUANDO NO HAY PROYECTOS -->
    <VBox fx:id="emptyStateContainer"
          alignment="CENTER"
          spacing="15"
          visible="false"
          managed="false"
          style="-fx-padding: 60;"
          VBox.vgrow="ALWAYS">
        <Label text="ðŸ“‹" style="-fx-font-size: 64px;"/>
        <Label text="No hay proyectos registrados"
               style="-fx-font-size: 18px;
                      -fx-font-weight: 600;
                      -fx-text-fill: #61564A;
                      -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;"/>
        <Label text="Comienza agregando un nuevo proyecto usando el botÃ³n superior"
               style="-fx-font-size: 14px;
                      -fx-text-fill: #A59B8F;
                      -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;"/>
    </VBox>

</VBox>